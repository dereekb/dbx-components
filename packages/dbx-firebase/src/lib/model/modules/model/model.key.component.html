<div class="dbx-firebase-model-key">
  @if (modelKey(); as key) {
    <!-- Key Data -->
    <dbx-detail-block icon="key" header="Model Key">
      <dbx-click-to-copy-text [highlighted]="true" class="dbx-block">{{ key }}</dbx-click-to-copy-text>
      <dbx-click-to-copy-text [highlighted]="true" class="dbx-block">{{ modelKeyIdSignal() }}</dbx-click-to-copy-text>
      <dbx-click-to-copy-text [highlighted]="true" class="dbx-block" [copyText]="oneWayFlatModelKeySignal()">(Flat) {{ oneWayFlatModelKeySignal() }}</dbx-click-to-copy-text>
      <dbx-click-to-copy-text [highlighted]="true" class="dbx-block" [copyText]="twoWayFlatModelKeySignal()">(Encoded Flat) {{ twoWayFlatModelKeySignal() }}</dbx-click-to-copy-text>
    </dbx-detail-block>

    <!-- Type Info -->
    @if (typeInfoSignal(); as typeInfo) {
      <!-- Model Meta Data -->
      <div>
        <dbx-detail-block [icon]="typeInfo.icon" header="Model Type">
          <dbx-click-to-copy-text class="dbx-block">{{ typeInfo.modelType }}</dbx-click-to-copy-text>
          @if (typeInfo.icon) {
            <dbx-click-to-copy-text [copyText]="typeInfo.icon" class="dbx-block">
              Icon:
              <span class="dbx-u">{{ typeInfo.icon }}</span>
            </dbx-click-to-copy-text>
          } @else {
            <span class="dbx-notice">No Icon For Type</span>
          }
        </dbx-detail-block>
        <dbx-detail-block icon="dataset" header="Collection Name">
          <dbx-click-to-copy-text class="dbx-block">{{ typeInfo.identity.collectionName }}</dbx-click-to-copy-text>
        </dbx-detail-block>
      </div>

      <!-- Segue Info -->
      @if (typeCanSegueToView()) {
        <dbx-detail-block icon="arrow_forward" header="Segue To View">
          <div class="dbx-hint dbx-small">This model has a unique view within the app.</div>
          <dbx-anchor [anchor]="srefSignal()"><dbx-button text="Go To View"></dbx-button></dbx-anchor>
        </dbx-detail-block>
      } @else {
        <dbx-detail-block class="dbx-warn" icon="warning" header="No Segue View">
          <span>This type provides no information for segue directly.</span>
        </dbx-detail-block>
      }
    } @else {
      <dbx-detail-block class="dbx-warn" icon="warning" header="No Type Info">
        <span>There is no type info registered for this model type.</span>
      </dbx-detail-block>
    }
  } @else {
    <div class="dbx-firebase-model-key-empty">No model key provided</div>
  }
</div>

<mat-expansion-panel>
  <mat-expansion-panel-header>
    <mat-panel-title>
      @if (displayInfoSignal(); as displayInfo) {
        <div class="dbx-list-two-line-item">
          <div class="item-left">
            <span class="dbx-pb2 dbx-flex-bar">
              @if (displayInfo.icon) {
                <mat-icon class="dbx-button-spacer">{{ displayInfo.icon }}</mat-icon>
              }
              <span>{{ displayInfo.title }}</span>
            </span>
            <span class="dbx-hint dbx-small">{{ modelTypeSignal() }}</span>
          </div>
        </div>
      }
    </mat-panel-title>
  </mat-expansion-panel-header>
  <ng-template matExpansionPanelContent>
    <div class="dbx-firebase-model-entities-entity-panel-content">
      <dbx-loading [context]="loadingContext">
        @if (entityWidgetConfigSignal(); as config) {
          <div class="dbx-pb3 dbx-firebase-model-entities-entity-content">
            <dbx-injection [config]="config"></dbx-injection>
          </div>
        }
        @if (commonWidgetConfigSignal(); as config) {
          <div class="dbx-pb3 dbx-firebase-model-entities-common-content">
            <dbx-injection [config]="config"></dbx-injection>
          </div>
        }
        @if (debugWidgetConfigSignal(); as config) {
          <div class="dbx-pb3 dbx-firebase-model-entities-debug-content">
            <dbx-injection [config]="config"></dbx-injection>
          </div>
        }
      </dbx-loading>
    </div>
  </ng-template>
</mat-expansion-panel>

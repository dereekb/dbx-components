<dbx-content-container>
  <doc-feature-layout header="Action Interaction Directives" hint="Compose your action with directives.">
    <!-- Examples -->
    <h3>Button</h3>
    <doc-feature-example header="dbxActionButton" hint="Used to link a dbx-button to an action. The button will be disabled when the action is disabled, be in a loading/working state when the action is in a working state, and trigger the action when the button is clicked.">
      <dbx-action-example-tools dbxAction [dbxActionHandler]="handleAction" [dbxActionValueStream]="value$">
        <dbx-button dbxActionButton text="Action Button"></dbx-button>
      </dbx-action-example-tools>

      <h4>Disabled Example</h4>
      <dbx-action-example-tools dbxAction [dbxActionHandler]="handleAction" [dbxActionDisabled]="true">
        <dbx-button dbxActionButton text="Disabled Action"></dbx-button>
      </dbx-action-example-tools>
    </doc-feature-example>

    <doc-feature-example header="dbxActionButtonTrigger" hint="Used to link a dbx-button to an action and only responds to click events, ignoring the working state, unlike .">
      <dbx-action-example-tools dbxAction [dbxActionHandler]="handleAction" [dbxActionValueStream]="value$">
        <dbx-button dbxActionButtonTrigger text="Action Button Trigger"></dbx-button>
      </dbx-action-example-tools>
    </doc-feature-example>

    <doc-feature-example header="dbxActionConfirm" hint="Used to add a confirmation dialog to an action.">
      <dbx-action-example-tools dbxAction [dbxActionConfirm]="confirmConfig" [dbxActionHandler]="handleAction">
        <dbx-button dbxActionButton text="Action Button Trigger"></dbx-button>
      </dbx-action-example-tools>

      <p>Performs with a form.</p>
      <dbx-action-example-tools dbxAction [dbxActionConfirm]="confirmConfig" [dbxActionHandler]="handleAction">
        <dbx-button dbxActionButton text="Action Button Trigger"></dbx-button>
      </dbx-action-example-tools>
    </doc-feature-example>

    <doc-feature-example header="dbxActionError" hint="Combined with a dbx-error view to show any errors that pop up.">
      <dbx-action-example-tools dbxAction dbxActionValue [dbxActionHandler]="handleActionWithError">
        <dbx-button dbxActionButton text="Trigger Error"></dbx-button>
        <dbx-error dbxActionError></dbx-error>
      </dbx-action-example-tools>
      <h3>Small Error Example</h3>
      <p>The dbx-error can be configured to be in icon-only mode. This is useful in cases where screen space is limited.</p>
      <dbx-action-example-tools dbxAction dbxActionValue [dbxActionHandler]="handleActionWithError">
        <dbx-button dbxActionButton text="Trigger Error"></dbx-button>
        <dbx-error [iconOnly]="true" dbxActionError></dbx-error>
      </dbx-action-example-tools>
    </doc-feature-example>

    <h3>Snackbar</h3>
    <doc-feature-example header="dbxActionSnackbar" hint="Used to show a snackbar depending on the state of an action context.">
      <p>There are a number of different built-in premade types available, such as "save", "delete", etc.</p>
      <dbx-action-example-tools dbxAction [dbxActionSnackbar] dbxActionSnackbarDefault="save" [dbxActionHandler]="handleAction" [dbxActionValueStream]="value$">
        <dbx-button dbxActionButton text="Save"></dbx-button>
      </dbx-action-example-tools>

      <h4>Undo</h4>
      <p>The snackbar is has the capability to add an additional action to the state. For the pre-made available states, this is the undo function.</p>
      <p>Undo Value: {{ undoValue }}</p>
      <dbx-action-example-tools dbxAction [dbxActionSnackbar] dbxActionSnackbarDefault="do" [dbxActionHandler]="handleAction" [dbxActionSnackbarUndo]="getUndoAction" [dbxActionValueStream]="value$">
        <dbx-button dbxActionButton text="Do Action With Undo"></dbx-button>
      </dbx-action-example-tools>
    </doc-feature-example>

    <doc-feature-example header="dbxActionSnackbarError" hint="Used to display the action error in the snackbar.">
      <dbx-action-example-tools dbxAction dbxActionValue dbxActionSnackbarError [dbxActionHandler]="handleActionWithError">
        <dbx-button dbxActionButton text="Trigger Error"></dbx-button>
      </dbx-action-example-tools>
      <p>The input is used to pass configuration or the duration to show the error. The following is configured to show for 2 seconds.</p>
      <dbx-action-example-tools dbxAction dbxActionValue [dbxActionSnackbarError]="2000" [dbxActionHandler]="handleActionWithError">
        <dbx-button dbxActionButton text="Trigger Error"></dbx-button>
      </dbx-action-example-tools>
    </doc-feature-example>

    <h3>Popover, Popup</h3>
    <doc-feature-example header="dbxActionPopover" hint="Used to display a popover action when trigger is called. Use this directive for popup values, as they have the same return type as Popover.">
      <dbx-action-example-tools dbxAction [dbxActionPopover]="handleOpenPopover" [dbxActionHandler]="handleAction">
        <dbx-button dbxActionButton text="Open Popover Action"></dbx-button>
      </dbx-action-example-tools>
    </doc-feature-example>

    <h3>Dialog</h3>
    <doc-feature-example header="dbxActionDialog" hint="Used to display a dialog when trigger is called, and passes the return value.">
      <dbx-action-example-tools dbxAction [dbxActionDialog]="handleOpenDialog" [dbxActionHandler]="handleAction">
        <dbx-button dbxActionButton text="Open Dialog Action"></dbx-button>
      </dbx-action-example-tools>
    </doc-feature-example>

    <h3>Analytics</h3>
    <doc-feature-example header="dbxActionAnalytics" hint="Used to connect analytics to an action. Can listen to trigger, read, success, and error events from the action and send relevant analytics events.">
      <dbx-action-example-tools dbxAction dbxActionValue [dbxActionHandler]="handleAction" [dbxActionAnalytics]="analyticsConfig">
        <dbx-button dbxActionButton text="Open Action Value"></dbx-button>
      </dbx-action-example-tools>
    </doc-feature-example>
  </doc-feature-layout>
</dbx-content-container>
